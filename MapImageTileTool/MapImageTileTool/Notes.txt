MegaBuilder(working title) Design Notes:


Aspect Ratio:

all maps all scales maintain aspect ratio of 18x12 (best fit for TTS's scale 18units = 1 inch)
dimensionFactor: dimensionAspect x scale 
stretch/compress: get both width/length and choose the one closest to their aspectFactor, change other measurement to stay in ratio
fill: add blank pixels to complete map to fit ratio
fill will meet default size or resolution one size above
aspect ratio will be able to be changed when program moves away from being dependant on TTS (program settings file)

5400 x 3600 
3600 x 2400 default map resolution (200 ppi x (18x12) squares)

number of scaled maps on display:
maps that are tiled must be in correct ratio or have blank space added to end

Adding Maps:

save all map information in text file:

(Map Name)
(Scale)
(Tiling)
(SquaresX)
(SquaresY)
(OffsetX)
(OffsetY)

2045 x 1479

1024 x 1024
(find best fit for current res) 1024 x 1024 -> 3000 x 2000
(find current sqaure pxl size) 1024 / 40sq = 25.6px
(find square pxl size for canvas) 3000 / 40sq = 75px
(scale size to set original sq size to display size) 100 / 25.6 = 3.90625
(scaled size of aspect squares) 40 x 100 = 4000
(set display scale to 2 (halves scaled size)) 40 x 50 = 2000

display tries to fit the displayscale and mapscale 1:1
mapscale: 52px/square
displayRes: 18 sq * 100px = 1800
1800 / 52 = 34.615
1800 / 34.615 = 52
52 -> 100 (100 * 40 = 4000)


2100 x 1600

4000 x 4000
4200 x 2800
6300 x 4200



ceiling(imagePxl / imageSq) = imagePxlDen
ceiling(displayPxlDen / imagePxlDen) = # squares (displayScale)
imagePxlDen * # / displayPxlDen = scale amount to image
imageScAmt * imagePxl = newRes

get sqPxl amount before scale, scaled sqPxl / sqPxl = resize amount

Folder System:

Source Image Folder, Resized-to-Aspect Images, Tiled Image Folders, Display Info JSON, Map Info JSON

Map Scale:

maps are contained in folders, folders contain JSON file that holds scale information and map info
going up and down a "zlevel" will go to next available scale
scaled down maps will need offsets to fit under the grid set by the higher-scale maps
offsets are given as map lengths (X: map widths, Y: map heights)

Map Info:

map sets save all the information for map and scale
mapObjects are created when image is tiled and added to JSONArray

TTS Tiling:

each image has its own tile, JSON array will be used to select map, Z-level, and grid area
main display board must be tracked and swapped

Loot Generation: (MUCH LATER)

importing JSON with logic to generate loot
player-selection loot tables can be made as physical tiles in TTS
